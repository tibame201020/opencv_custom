{
  "id": "complex_test",
  "name": "Complex Logic Test",
  "nodes": {
    "start": {
      "id": "start",
      "name": "Init Variables",
      "type": "set_variable",
      "config": {
        "items": ["A", "B", "C"]
      },
      "x": 100,
      "y": 100
    },
    "loop": {
      "id": "loop",
      "name": "Loop Items",
      "type": "loop",
      "config": {
        "items": "{{ $vars.items }}"
      },
      "x": 300,
      "y": 100
    },
    "switch": {
      "id": "switch",
      "name": "Switch Case",
      "type": "switch",
      "config": {
        "value": "{{ $vars.item }}",
        "cases": ["A", "B"]
      },
      "x": 500,
      "y": 100
    },
    "logA": {
      "id": "logA",
      "name": "Log A",
      "type": "log",
      "config": {
        "message": "Found A at index {{ $vars.index }}"
      },
      "x": 700,
      "y": 50
    },
    "logB": {
      "id": "logB",
      "name": "Log B",
      "type": "log",
      "config": {
        "message": "Found B at index {{ $vars.index }}"
      },
      "x": 700,
      "y": 150
    },
    "logDefault": {
      "id": "logDefault",
      "name": "Log Default",
      "type": "log",
      "config": {
        "message": "Found Other ({{ $vars.item }}) at index {{ $vars.index }}"
      },
      "x": 700,
      "y": 250
    },
    "done": {
      "id": "done",
      "name": "Done",
      "type": "log",
      "config": {
        "message": "Loop Finished"
      },
      "x": 300,
      "y": 300
    }
  },
  "edges": [
    { "id": "e1", "fromNodeId": "start", "toNodeId": "loop", "signal": "success" },
    { "id": "e2", "fromNodeId": "loop", "toNodeId": "switch", "signal": "body" },
    { "id": "e3", "fromNodeId": "switch", "toNodeId": "logA", "signal": "0" },
    { "id": "e4", "fromNodeId": "switch", "toNodeId": "logB", "signal": "1" },
    { "id": "e5", "fromNodeId": "switch", "toNodeId": "logDefault", "signal": "default" },
    { "id": "e6", "fromNodeId": "logA", "toNodeId": "loop", "signal": "success" },
    { "id": "e7", "fromNodeId": "logB", "toNodeId": "loop", "signal": "success" },
    { "id": "e8", "fromNodeId": "logDefault", "toNodeId": "loop", "signal": "success" },
    { "id": "e9", "fromNodeId": "loop", "toNodeId": "done", "signal": "done" }
  ],
  "startNodeId": "start"
}
