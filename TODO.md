# TODO â€” Feature Tracking

> æ­¤æ–‡ä»¶è¿½è¹¤æ‰€æœ‰åŠŸèƒ½çš„å¯¦ä½œé€²åº¦èˆ‡ä½¿ç”¨è€…ç¢ºèªç‹€æ…‹ã€‚
> - âœ… = å·²å®Œæˆ / å·²ç¢ºèª
> - ğŸ”„ = é€²è¡Œä¸­
> - â¬œ = å°šæœªé–‹å§‹ / å°šæœªç¢ºèª
> - âŒ = å·²å–æ¶ˆæˆ–ç§»é™¤

---

## 1. Workflow Engine (Backend â€” Go)

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 1.1 | `ExecutionResult.Signal` æ¬„ä½ | âœ… | â¬œ | æ”¯æ´ flow control |
| 1.2 | `convert` ç¯€é»é¡å‹ | âœ… | â¬œ | è³‡æ–™è½‰æ› |
| 1.3 | Sub-workflow Signal å‚³æ’­ | âœ… | â¬œ | å­æµç¨‹å›å‚³å¯¦éš› signal |
| 1.4 | Loop ç¯€é»é‡æ§‹ (pass-through) | âœ… | â¬œ | è¿´åœˆé‚è¼¯æ”¹ç”± Graph çµ„åˆ |
| 1.5 | Workflow æŒä¹…åŒ– (SQLite) | âœ… | â¬œ | CRUD API |
| 1.6 | Node Discovery API (`/api/workflows/nodes`) | âœ… | â¬œ | å‹•æ…‹åµæ¸¬å¯ç”¨ç¯€é» |
| 1.7 | Workflow åŸ·è¡Œ API (`/api/workflows/run`) | âœ… | â¬œ | åŸ·è¡Œå·¥ä½œæµ |
| 1.8 | Global Context & Variables | âœ… | â¬œ | è·¨ç¯€é»è®Šæ•¸å­˜å– |
| 1.9 | Expression Parser ({{ }}) | âœ… | â¬œ | å‹•æ…‹åƒæ•¸è§£æ |
| 1.10 | If Condition Operators (55 types) | âœ… | â¬œ | å®Œæ•´é‹ç®—å­æ”¯æ´ |

## 2. Workflow Engine (Tests)

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 2.1 | WhileLoop æ¸¬è©¦ | âœ… | â¬œ | |
| 2.2 | ForLoop æ¸¬è©¦ | âœ… | â¬œ | |
| 2.3 | ForEach æ¸¬è©¦ | âœ… | â¬œ | |
| 2.4 | CaseWhen æ¸¬è©¦ | âœ… | â¬œ | |
| 2.5 | NestedSubflow æ¸¬è©¦ | âœ… | â¬œ | |
| 2.6 | SignalPropagation æ¸¬è©¦ | âœ… | â¬œ | |

## 3. Frontend â€” Workflow è¦–è¦ºç·¨è¼¯å™¨

### 3.1 åŸºç¤æ¶æ§‹

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.1.1 | React Flow DAG ç·¨è¼¯å™¨ | âœ… | â¬œ | `@xyflow/react` |
| 3.1.2 | Workflow Store (ç‹€æ…‹ç®¡ç†) | âœ… | â¬œ | Zustand |
| 3.1.3 | è·¯ç”±èˆ‡å°è¦½æ•´åˆ | âœ… | â¬œ | Workflow Tab |
| 3.1.4 | IDE é¢¨æ ¼ä½ˆå±€ (é›™å±¤ Sidebar) | âœ… | â¬œ | èˆ‡ Script Editor ä¸€è‡´ |
| 3.1.5 | Tab é ç±¤ç³»çµ± | âœ… | â¬œ | å¤šå·¥ä½œæµåˆ‡æ› |
| 3.1.6 | Node Registry (ç¯€é»å®šç¾©) | âœ… | â¬œ | é›†ä¸­ç®¡ç†ç¯€é»é¡å‹ |

### 3.2 ç¯€é»äº’å‹•

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.2.1 | æ‹–æ”¾ç¯€é» (Drag & Drop) | âœ… | â¬œ | å¾ Palette æ‹–å…¥ |
| 3.2.2 | é¸å–é«˜äº® (Dashed Border) | âœ… | â¬œ | å–æ¶ˆå¤–åœˆå…‰æšˆ |
| 3.2.3 | ç¯€é»èª¿æ•´å¤§å° (NodeResizer) | âœ… | â¬œ | åœ“å½¢ Handle |
| 3.2.4 | é›™æ“Šé–‹å•Ÿå±¬æ€§é¢æ¿ | âœ… | â¬œ | å–®æ“Šåƒ…é¸å– |
| 3.2.5 | ç¯€é»è¤‡è£½/è²¼ä¸Š (Ctrl+C/V) | âœ… | â¬œ | |
| 3.2.6 | ç¯€é»è¤‡è£½ (Ctrl+D) | âœ… | â¬œ | |
| 3.2.7 | å…¨é¸ (Ctrl+A) | âœ… | â¬œ | |
| 3.2.8 | åˆªé™¤ (Delete/Backspace) | âœ… | â¬œ | |

### 3.3 é‚Š (Edge) äº’å‹•

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.3.1 | SmoothStep è·¯ç”± | âœ… | â¬œ | æ­£äº¤è·¯ç”± |
| 3.3.2 | é‚Šå¯é¸å–/åˆªé™¤ | âœ… | â¬œ | `interactionWidth: 20` |
| 3.3.3 | æ‹–æ›³ç«¯é»é‡æ–°é€£æ¥ | âœ… | â¬œ | `updatable: true` |

### 3.4 ç•«å¸ƒäº’å‹•

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.4.1 | æ¡†é¸ (Box Selection) | âœ… | â¬œ | å·¦éµæ‹–æ›³ |
| 3.4.2 | å³éµå¹³ç§» | âœ… | â¬œ | `panOnDrag={[2]}` |
| 3.4.3 | æ»¾è¼ªå¹³ç§» | âœ… | â¬œ | `panOnScroll` |

### 3.5 å³éµé¸å–® (Context Menu)

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.5.1 | ç¯€é»å³éµé¸å–® | âœ… | â¬œ | Properties / Duplicate / Front / Back / Delete |
| 3.5.2 | é‚Šå³éµé¸å–® | âœ… | â¬œ | Delete |
| 3.5.3 | ç•«å¸ƒå³éµé¸å–® | âœ… | â¬œ | ç›®å‰ç‚ºç©º (æ¸…é™¤é¸å–) |

### 3.6 Z-Index åœ–å±¤æ§åˆ¶

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.6.1 | Bring to Front | âœ… | â¬œ | å¾å³éµé¸å–®æ“ä½œ |
| 3.6.2 | Send to Back | âœ… | â¬œ | å¾å³éµé¸å–®æ“ä½œ |

### 3.7 å¾©åŸ/é‡åš (Undo/Redo)

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.7.1 | Undo (Ctrl+Z) | âŒ | â€” | å·²å–æ¶ˆï¼šæ‹–æ›³æ™‚å¿«ç…§é€ æˆæ•ˆèƒ½å•é¡Œ |
| 3.7.2 | Redo (Ctrl+Y / Ctrl+Shift+Z) | âŒ | â€” | å·²å–æ¶ˆ |
| 3.7.3 | è‡ªå‹•å¿«ç…§ (Drag/Connect/Delete) | âŒ | â€” | å·²å–æ¶ˆ |

### 3.8 å±¬æ€§é¢æ¿

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.8.1 | å‹•æ…‹åƒæ•¸è¡¨å–® (ParamField) | âœ… | â¬œ | æ”¯æ´å¤šç¨®å‹åˆ¥ |
| 3.8.2 | Expression Mode åˆ‡æ› | âœ… | â¬œ | `{{ }}` èªæ³• |
| 3.8.3 | Variables ç®¡ç†é¢æ¿ | âœ… | â¬œ | CRUD |
| 3.8.4 | å¯æ”¶åˆå¼å´æ¬„ | âœ… | â¬œ | å³å´æ”¶åˆ |
| 3.8.5 | Set Variable Node (JSON) | âœ… | â¬œ | Monaco Editor |
| 3.8.6 | Expression Mode Toggle | âœ… | â¬œ | åƒæ•¸å‹•æ…‹åˆ‡æ› |

### 3.9 UI å„ªåŒ– (n8n Style)

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.9.1 | Floating Action Bar (FAB) | âœ… | â¬œ | Top-Right Toolbar |
| 3.9.2 | Add First Step Button | âœ… | â¬œ | Empty State Action |
| 3.9.3 | Quick Add Menu Integration | âœ… | â¬œ | Unified Node Picker |

### 3.10 V2 UI Overhaul (Visual Redesign)

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 3.10.1 | Square Node Shape (64x64) | âœ… | â¬œ | n8n V2 Style |
| 3.10.2 | External Labels (Below Node) | âœ… | â¬œ | Transparent background |
| 3.10.3 | Transparent Floating Toolbar | âœ… | â¬œ | Action buttons on hover |
| 3.10.4 | Connection Stubs (+) | âœ… | â¬œ | Grow on hover, right side |
| 3.10.5 | Sliding Add Node Sidebar | âœ… | â¬œ | Replaces context menu add |
| 3.10.6 | Handle Interaction Refinement | âœ… | â¬œ | Left-click menu, Left-drag wire, Auto-hide stub |

## 4. Bug Fixes

| # | å•é¡Œ | ä¿®å¾©ç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 4.1 | Python CLI UTF-8 Encoding (CP950) | âœ… | â¬œ | Windows ç’°å¢ƒ |
| 4.2 | Node Discovery 500 Error | âœ… | â¬œ | API è§£æä¿®å¾© |

---

## 5. å¾…é–‹ç™¼ / è¦åŠƒä¸­

| # | åŠŸèƒ½ | å¯¦ä½œç‹€æ…‹ | User ç¢ºèª | å‚™è¨» |
|---|------|---------|-----------|------|
| 5.1 | Workflow ç‰ˆæœ¬æ§åˆ¶ | â¬œ | â¬œ | ç‰ˆæœ¬æ­·å²/å›æ»¾ |
| 5.2 | Workflow åŒ¯å…¥/åŒ¯å‡º (JSON) | â¬œ | â¬œ | |
| 5.3 | Workflow åŸ·è¡Œçµæœå¯è¦–åŒ– | â¬œ | â¬œ | ç¯€é»ç‹€æ…‹æ¨™ç¤º |
| 5.4 | ç¯€é»ç¾¤çµ„åŒ– (Grouping) | â¬œ | â¬œ | Sub-workflow è¦–è¦ºåŒ– |
| 5.5 | æœå°‹ç¯€é» (ç•«å¸ƒå…§) | â¬œ | â¬œ | Ctrl+F |
| 5.6 | Mini-map äº’å‹•å„ªåŒ– | â¬œ | â¬œ | |
| 5.7 | ç•«å¸ƒ Snap-to-Grid | â¬œ | â¬œ | å°é½Šè¼”åŠ© |
| 5.8 | é‚Š Label ç·¨è¼¯ | â¬œ | â¬œ | Signal æ¨™ç±¤ |
